<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pillar Chase - HTML5游戏网站</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #2d3631;
            color: white;
        }
        .game-card {
            transition: transform 0.2s;
            cursor: pointer;
        }
        .game-card:hover {
            transform: scale(1.03);
        }
        .category-item.active {
            background-color: #3a443e;
        }
        /* 游戏模态框样式 */
        .game-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            overflow: auto;
        }
        .game-content {
            width: 90%;
            max-width: 1200px;
            margin: 40px auto;
            background-color: #2d3631;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }
        .iframe-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 60%; /* 16:9 比例 */
            overflow: hidden;
        }
        .iframe-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <!-- 头部导航 -->
    <header class="px-4 py-3 bg-[#2d3631] shadow-md">
        <div class="container mx-auto flex items-center justify-between">
            <!-- Logo -->
            <div class="flex items-center">
                <div class="w-10 h-10 bg-green-500 rounded-md flex items-center justify-center mr-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-7.536 5.879a1 1 0 001.415 0 3 3 0 014.242 0 1 1 0 001.415-1.415 5 5 0 00-7.072 0 1 1 0 000 1.415z" clip-rule="evenodd" />
                    </svg>
                </div>
                <span class="text-white text-2xl font-bold">Pillar Chase</span>
            </div>
            
            <!-- 搜索框 -->
            <div class="relative flex items-center">
                <input type="text" id="search-input" placeholder="寻找游戏..." class="bg-[#444] text-white rounded-full py-2 pl-10 pr-4 w-64">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white absolute left-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
            </div>
        </div>
    </header>
    
    <!-- 主要内容 -->
    <main class="container mx-auto px-4 py-2">
        <div class="flex">
            <!-- 左侧导航 -->
            <div class="w-52 pr-4">
                <nav>
                    <ul class="space-y-1" id="category-menu">
                        <!-- 分类菜单将由JavaScript动态生成 -->
                    </ul>
                </nav>
            </div>
            
            <!-- 游戏网格 -->
            <div class="flex-1">
                <div class="mb-6">
                    <div class="flex items-center mb-4">
                        <div class="bg-yellow-500 p-1 rounded-full mr-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                            </svg>
                        </div>
                        <h2 class="text-xl font-bold">推荐游戏</h2>
                    </div>
                    
                    <!-- 游戏网格区域 -->
                    <div class="grid grid-cols-4 gap-4" id="game-grid">
                        <!-- 游戏卡片将由JavaScript动态生成 -->
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- 游戏模态框 -->
    <div id="game-modal" class="game-modal">
        <div class="game-content">
            <div class="flex justify-between items-center mb-4">
                <h2 id="modal-game-title" class="text-xl font-bold">游戏标题</h2>
                <button id="close-modal" class="bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600">
                    关闭
                </button>
            </div>
            <div class="iframe-container">
                <iframe id="game-iframe" src="" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <!-- 游戏数据 -->
    <script>
        // 游戏分类
        const categories = [
            { id: 'all', name: '全部游戏' },
            { id: 'puzzle', name: '谜题' },
            { id: 'action', name: '行动' },
            { id: 'simulation', name: '模拟' },
            { id: 'casual', name: '休闲' },
            { id: 'horror', name: '恐怖' },
            { id: 'strategy', name: '战略' },
            { id: 'rpg', name: '角色扮演' },
            { id: 'racing', name: '赛车' },
            { id: 'adventure', name: '冒险' }
        ];
        
        // 游戏数据
        const games = [
            {
                id: 1,
                title: "太空射击",
                thumbnail: "https://via.placeholder.com/300x180/3c5/fff?text=太空射击",
                category: "action",
                iframeUrl: "https://html5.gamemonetize.com/mwmz41a58bn4avsyi9t7q6r8va4fu7d4/"
            },
            {
                id: 2,
                title: "数独挑战",
                thumbnail: "https://via.placeholder.com/300x180/f39/fff?text=数独挑战",
                category: "puzzle",
                iframeUrl: "https://www.crazygames.com/embed/daily-sudoku"
            },
            {
                id: 3,
                title: "城市建设",
                thumbnail: "https://via.placeholder.com/300x180/39f/fff?text=城市建设",
                category: "simulation",
                iframeUrl: "https://html5.gamemonetize.com/l23wbmq1e7ql7t5bvsmed0j9ovs5lcfe/"
            },
            {
                id: 4,
                title: "记忆配对",
                thumbnail: "https://via.placeholder.com/300x180/fc3/fff?text=记忆配对",
                category: "casual",
                iframeUrl: "https://www.crazygames.com/embed/memory-match-jam"
            },
            {
                id: 5,
                title: "僵尸逃脱",
                thumbnail: "https://via.placeholder.com/300x180/333/fff?text=僵尸逃脱",
                category: "horror",
                iframeUrl: "https://html5.gamemonetize.com/8ugew1i3uahxihky9968vyn5znvzgjao/"
            },
            {
                id: 6,
                title: "帝国征服",
                thumbnail: "https://via.placeholder.com/300x180/936/fff?text=帝国征服",
                category: "strategy",
                iframeUrl: "https://www.crazygames.com/embed/idle-empire"
            },
            {
                id: 7,
                title: "龙与地下城",
                thumbnail: "https://via.placeholder.com/300x180/639/fff?text=龙与地下城",
                category: "rpg",
                iframeUrl: "https://html5.gamemonetize.com/0odjcai3tjbfdepb3utgtpbttep9z8xt/"
            },
            {
                id: 8,
                title: "极速飞车",
                thumbnail: "https://via.placeholder.com/300x180/f93/fff?text=极速飞车",
                category: "racing",
                iframeUrl: "https://www.crazygames.com/embed/superbike-hero"
            },
            {
                id: 9,
                title: "丛林探险",
                thumbnail: "https://via.placeholder.com/300x180/3f6/fff?text=丛林探险",
                category: "adventure",
                iframeUrl: "https://html5.gamemonetize.com/02bnkcs0p19k3e7ys1r4n83gpfa0g1ci/"
            },
            {
                id: 10,
                title: "方块消除",
                thumbnail: "https://via.placeholder.com/300x180/96f/fff?text=方块消除",
                category: "puzzle",
                iframeUrl: "https://www.crazygames.com/embed/merge-cakes"
            },
            {
                id: 11,
                title: "枪战生存",
                thumbnail: "https://via.placeholder.com/300x180/f66/fff?text=枪战生存",
                category: "action",
                iframeUrl: "https://html5.gamemonetize.com/y5v0e2xx88ppz3er0qu7ac6d2mws64o3/"
            },
            {
                id: 12,
                title: "农场模拟",
                thumbnail: "https://via.placeholder.com/300x180/6c3/fff?text=农场模拟",
                category: "simulation",
                iframeUrl: "https://www.crazygames.com/embed/super-onion-boy"
            }
        ];

        // 函数：初始化分类菜单
        function initCategoryMenu() {
            const categoryMenu = document.getElementById('category-menu');
            categoryMenu.innerHTML = '';
            
            categories.forEach(category => {
                const listItem = document.createElement('li');
                listItem.className = 'category-item flex items-center py-2 px-3 hover:bg-[#3a443e] rounded-md cursor-pointer';
                listItem.dataset.category = category.id;
                
                // 分类图标（根据分类选择适当的图标）
                let iconPath = '';
                switch(category.id) {
                    case 'all':
                        iconPath = 'M4 6h16M4 12h16M4 18h16';
                        break;
                    case 'puzzle':
                        iconPath = 'M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z';
                        break;
                    case 'action':
                        iconPath = 'M13 10V3L4 14h7v7l9-11h-7z';
                        break;
                    case 'simulation':
                        iconPath = 'M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6';
                        break;
                    case 'casual':
                        iconPath = 'M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z';
                        break;
                    case 'horror':
                        iconPath = 'M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z';
                        break;
                    case 'strategy':
                        iconPath = 'M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z';
                        break;
                    case 'rpg':
                        iconPath = 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z';
                        break;
                    case 'racing':
                        iconPath = 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z';
                        break;
                    case 'adventure':
                        iconPath = 'M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z';
                        break;
                }
                
                listItem.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="${iconPath}" />
                    </svg>
                    <span>${category.name}</span>
                `;
                
                // 点击事件
                listItem.addEventListener('click', () => {
                    document.querySelectorAll('.category-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    listItem.classList.add('active');
                    displayGames(category.id);
                });
                
                categoryMenu.appendChild(listItem);
            });
            
            // 默认选中"全部游戏"
            document.querySelector('.category-item[data-category="all"]').classList.add('active');
        }
        
        // 函数：显示游戏
        function displayGames(category = 'all') {
            const gameGrid = document.getElementById('game-grid');
            gameGrid.innerHTML = '';
            
            // 筛选游戏
            const filteredGames = category === 'all' 
                ? games 
                : games.filter(game => game.category === category);
            
            // 显示游戏
            filteredGames.forEach(game => {
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card relative bg-[#333] rounded-lg overflow-hidden';
                gameCard.innerHTML = `
                    <img src="${game.thumbnail}" alt="${game.title}" class="w-full h-40 object-cover">
                    <div class="absolute bottom-0 w-full bg-gradient-to-t from-black to-transparent h-16"></div>
                    <div class="p-2">
                        <h3 class="text-white font-semibold">${game.title}</h3>
                    </div>
                `;
                
                // 点击事件 - 打开游戏
                gameCard.addEventListener('click', () => {
                    openGame(game);
                });
                
                gameGrid.appendChild(gameCard);
            });
        }
        
        // 函数：打开游戏
        function openGame(game) {
            const modal = document.getElementById('game-modal');
            const title = document.getElementById('modal-game-title');
            const iframe = document.getElementById('game-iframe');
            
            title.textContent = game.title;
            iframe.src = game.iframeUrl;
            modal.style.display = 'block';
            
            // 防止滚动页面
            document.body.style.overflow = 'hidden';
        }
        
        // 函数：关闭游戏模态框
        function closeGame() {
            const modal = document.getElementById('game-modal');
            const iframe = document.getElementById('game-iframe');
            
            modal.style.display = 'none';
            iframe.src = '';
            
            // 恢复页面滚动
            document.body.style.overflow = 'auto';
        }
        
        // 添加搜索功能
        function setupSearch() {
            const searchInput = document.getElementById('search-input');
            searchInput.addEventListener('input', (e) => {
                const searchText = e.target.value.toLowerCase();
                
                if (searchText.length < 2) {
                    // 如果搜索文本太短，显示当前选定分类的所有游戏
                    const activeCategory = document.querySelector('.category-item.active').dataset.category;
                    displayGames(activeCategory);
                    return;
                }
                
                // 筛选游戏
                const filteredGames = games.filter(game => 
                    game.title.toLowerCase().includes(searchText)
                );
                
                // 显示筛选结果
                const gameGrid = document.getElementById('game-grid');
                gameGrid.innerHTML = '';
                
                filteredGames.forEach(game => {
                    const gameCard = document.createElement('div');
                    gameCard.className = 'game-card relative bg-[#333] rounded-lg overflow-hidden';
                    gameCard.innerHTML = `
                        <img src="${game.thumbnail}" alt="${game.title}" class="w-full h-40 object-cover">
                        <div class="absolute bottom-0 w-full bg-gradient-to-t from-black to-transparent h-16"></div>
                        <div class="p-2">
                            <h3 class="text-white font-semibold">${game.title}</h3>
                        </div>
                    `;
                    
                    // 点击事件 - 打开游戏
                    gameCard.addEventListener('click', () => {
                        openGame(game);
                    });
                    
                    gameGrid.appendChild(gameCard);
                });
            });
        }
        
        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', () => {
            initCategoryMenu();
            displayGames('all');
            setupSearch();
            
            // 关闭模态框事件
            document.getElementById('close-modal').addEventListener('click', closeGame);
        });
    </script>
</body>
</html>
